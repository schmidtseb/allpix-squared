[Allpix]
log_level = "INFO"
log_format = "SHORT"
detectors_file = "example_detector.conf"
number_of_events = 1000000
experimental_multithreading = true
workers = 10

[GeometryBuilderGeant4]
world_margin_percentage = 2.5
# world_minimum_margin = 15cm 15cm 20cm

custom = true
phantom_dimensions = 30cm 30cm 15cm
phantom_position = 0cm 0cm 1cm

# source_position = 0cm 0cm -12.5cm
# source_hull_radius = 5mm
# source_hull_depth = 5mm

[DepositionGeant4]
custom = true
macro_path = "/home/vault/capm/mppi025h/allpix-squared/etc"
gps = "gps_macro_parallel.mac"
particle_type = "gamma"
pos_dist_type = "Plane"
ang_dist_type = "planar"
beam_position = 0um 0um -1cm # -3cm
# phantom_position = 0m 0um 5cm
phantom_position = 0m 0um 1cm
# phantom_size = 15mm
phantom_size = 15cm # 1.76mm

physics_list = FTFP_BERT_EMY
beam_energy = 60keV
beam_size = 10um
beam_direction = 0 0 1
number_of_particles = 1
max_step_length = 10um

output_plots = true

[ElectricFieldReader]
# model = "init"
# file_name = "example_electric_field.init"
model = "linear"
bias_voltage = -100V
depletion_voltage = -50V

[GenericPropagation]
temperature = 293K
charge_per_step = 10
output_plots = false

[SimpleTransfer]
max_depth_distance = 5um

[DefaultDigitizer]
# output = "digitizer"
output_plots = true
# electronics_noise = 10e
# threshold = 100e
# threshold_smearing = 10e
# adc_resolution = 8
# adc_smearing = 300e

[RCEWriter]

[DetectorHistogrammer]
name = "detector1"
file_name = "test1"

# [DetectorHistogrammer]
# name = "detector2"
# file_name = "test2"

# replace by [VisualizationGeant4] to run the visualization
[VisualizationGeant4]
# [Ignore]
mode = "gui"
accumulate = true

[ROOTObjectWriter]
